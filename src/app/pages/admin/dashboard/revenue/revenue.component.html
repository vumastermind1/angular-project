<div class="card card-chart">
    <div class="card-header card-header-success">
        <div class="ct-chart" #revenueChart [class.hidden]="expanded"></div>
        <div class="ct-chart" #expandedChart [class.hidden]="!expanded"></div>
        <div *ngIf="loading">Loading...</div>
        <button mat-button color="primary" *ngIf="expanded && !loading" (click)="expanded = !expanded">
            <mat-icon>chevron_left</mat-icon>
            Back
        </button>
    </div>
    <div class="card-body">
        <h4 class="card-title">Revenue</h4>
        <p class="card-category">
            <span class="text-success"></span>
        </p>
        <p class="card-body">
            <label id="revenue-source-label">Source</label>
            <mat-radio-group aria-labelledby="revenue-source-label" [(ngModel)]="selectedSource" (ngModelChange)="onDataUpdated()" class="radio-group">
                <mat-radio-button *ngFor="let source of sources" [value]="source" class="radio-button" [disabled]="loading">
                    {{source}}
                </mat-radio-button>
            </mat-radio-group>
        </p>
    </div>
    <div class="card-footer">
        <div class="stats">
            <mat-icon>access_time</mat-icon> updated {{lastUpdated | amTimeAgo}}
        </div>
    </div>
</div>